<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="./client/css/index.css">
    <script src="./client/javascript/LocalDB.js"></script>
    <script src="./client/javascript/windows.js"></script>
    <script src="./client/javascript/draw.js"></script>
</head>

<body>
    <div id="tool">
        <div class="button">比</div>
        <div class="button">干</div>
    </div>
    <div id="draw"></div>

    <!-- <button onclick="db.add('return', {test:'example'})">get</button>
    <button onclick="db.getAllData('return')">getAll</button> -->

</body>
<script>
    const panel = document.getElementById('draw');
    const draw = new Draw(panel);
    //touchstart
    panel.addEventListener('pointerdown', (e) => {
        const pos = draw.getRelativePos(e);
        draw.line({ point: [[pos.x, pos.y]] });
    }, { passive: false });
    //touchmove
    panel.addEventListener('pointermove', (e) => {
        if (e.pointerType === 'mouse') {
            if (e.pressure === 0) return;
        }
        const pos = draw.getRelativePos(e);
        draw.conline(pos.x, pos.y);
    }, { passive: false });

</script>

</html>
<script>
</script>